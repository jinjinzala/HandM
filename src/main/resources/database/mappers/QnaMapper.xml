<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "https://mybatis.org/dtd/mybatis-3-mapper.dtd">
  
<mapper namespace="com.handm.s1.qna.QnaDAO">
  	
    <select id="getBoardNum" resultType="Long">
  	SELECT QNA_SEQ.NEXTVAL FROM DUAL
	</select>
	
    <select id="getQnaList"  resultType="QnaDTO">
	SELECT *
	FROM BOARD
   </select>
    
    <select id="getQnaDetail" parameterType="QnaDTO" resultType="QnaDTO">
	SELECT *
	FROM BOARD
	WHERE BOARDNUM  = ${boardNum} 
   </select>

	<insert id="setQnaAdd" parameterType="QnaDTO">
	INSERT INTO BOARD 
	VALUES(QNA_SEQ.NEXTVAL, #{boardTitle},#{boardContents},#{boardWriter},#{boardDate},#{boardTotal})
	</insert>

	<delete id="setQnaDelete" parameterType="QnaDTO">
	DELETE BOARD WHERE BOARDNUM = ${boardNum} 
	</delete>
	
	<update id="setQnaUpdate" parameterType="QnaDTO">
	UPDATE BOARD SET BOARDTITLE=#{boardTitle}, BOARDCONTENTS=#{boardContents}, BOARDWRITER=#{boardWriter},
	BOARDDATE=#{boardDate}, BOARDTOTAL=#{boardTotal}
	WHERE BOARDNUM = ${boardNum}
	</update>
	
	<insert id="setQnaImgAdd" parameterType="QnaImgDTO">
	  INSERT INTO BOARD
	  VALUES (QNA_SEQ.NEXTVAL, #{fileName}, #{oriName}, #{boardNum})
	  </insert>
	
</mapper>